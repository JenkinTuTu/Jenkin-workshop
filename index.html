<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>JENKIN Workshop</title>
  <meta name="description" content="Jenkin の映像作品集。広告作品とドキュメンタリー作品を掲載しています。">
  <link rel="stylesheet" href="style.css">
</head>

<body class="page-home">

  <header>
    <a class="logo" href="index.html" aria-label="Go to home">JENKIN Workshop</a>

    <nav>
      <a href="index.html" class="active">work</a>
      <a href="contact.html">contact</a>
      <a href="ads.html">ads</a>
      <span id="tz-right" style="display:inline-block; margin-left:12px;"></span>
    </nav>
  </header>
  <main>
    <section class="works-section">
      <h2>広告作品 Commercials</h2>
      <div class="grid-ads">

        <!-- AD 1（YouTube：用视频 ID） -->
        <figure class="grid-item">
          <a href="ad1.html">
            <img src="assets/ad1-thumb.png" alt="広告 1 サムネイル">
            <span class="overlay">完美日記×道枝駿佑 CM映像｜Perfect Diary × Michieda Shunsuke – TV Commercial</span>
          </a>
        </figure>
        <!-- AD 2（Vimeo：用视频 ID） -->
        <figure class="grid-item" data-type="vimeo" data-id="1124756860">
          <a href="ad2.html">
            <img class="thumb" src="assets/placeholder.png" alt="広告 2 サムネイル">
            <span class="overlay">日発紡機ブランドイメージ映像｜RIFA Textile Machinery – Brand Image Film</span>
          </a>
        </figure>
        <!-- AD 3（YouTube：用视频 ID） -->
        <figure class="grid-item" data-type="vimeo" data-id="1124443345">
          <a href="ad3.html">
            <img class="thumb" src="assets/placeholder.png" alt="広告 3 サムネイル">
            <span class="overlay">レイフ・崑崙コンセプトショートフィルム｜LABELHOOD × KUNLUN – Concept Short Film</span>
          </a>
        </figure>
        <!-- AD 4（YouTube：用视频 ID） -->
        <figure class="grid-item" data-type="youtube" data-id="dbl4sfq83Ig">
          <a href="ad4.html">
            <img class="thumb" src="assets/placeholder.png" alt="広告 4 サムネイル">
            <span class="overlay">AD 4</span>
          </a>
        </figure>
        <!-- AD 14（dailymotion：用视频 ID） -->
        <figure class="grid-item" data-type="dailymotion" data-id="k6qN91xnSHsjE3E2BgS?">
          <a href="ad14.html">
            <img class="thumb" src="assets/ad14-thumb.png" alt="広告 14 サムネイル">
            <span class="overlay">AD 14</span>
          </a>
        </figure>
        <!-- AD 5（YouTube：用视频 ID） -->
        <figure class="grid-item" data-type="dailymotion" data-url="k5D5724FrXquFjDZvbQ?">
          <a href="ad5.html">
            <img class="thumb" src="assets/placeholder.png" alt="広告 5 サムネイル">
            <span class="overlay">AD 5</span>
          </a>
        </figure>
        <!-- AD 11（dailymotion：用视频 ID） -->
        <figure class="grid-item" data-type="dailymotion" data-id="k6iTLedFjUHYdUDZPeE?">
          <a href="ad11.html">
            <img class="thumb" src="assets/ad11-thumb.png" alt="広告 11 サムネイル">
            <span class="overlay">AD 11</span>
          </a>
        </figure>
        <!-- AD 6（YouTube：用视频 ID） -->
        <figure class="grid-item" data-type="dailymotion" data-id="k4UWXtdSub7HpYDZv3K?">
          <a href="ad6.html">
            <img class="thumb" src="assets/placeholder.png" alt="広告 6 サムネイル">
            <span class="overlay">AD 6</span>
          </a>
        </figure>
        <!-- AD 9（dailymotion：用视频 ID） -->
        <figure class="grid-item" data-type="dailymotion" data-id="k4afDjwwQPCNzuDZxsq?">
          <a href="ad9.html">
            <img class="thumb" src="assets/placeholder.png" alt="広告 9 サムネイル">
            <span class="overlay">AD 9</span>
          </a>
        </figure>
        <!-- AD 15（dailymotion：用视频 ID） -->
        <figure class="grid-item" data-type="dailymotion" data-id="k8QqtcrY2lL1KzE2BfI?">
          <a href="ad15.html">
            <img class="thumb" src="assets/ad15-thumb.png" alt="広告 15 サムネイル">
            <span class="overlay">AD 15</span>
          </a>
        </figure>
        <!-- AD 10（dailymotion：用视频 ID） -->
        <figure class="grid-item" data-type="dailymotion" data-id="k3B0MY3ktXpW2aDZy3q?">
          <a href="ad10.html">
            <img class="thumb" src="assets/ad10-thumb.png" alt="広告 10 サムネイル">
            <span class="overlay">AD 10</span>
          </a>
        </figure>
        <!-- AD 8（dailymotion：用视频 ID） -->
        <figure class="grid-item" data-type="dailymotion" data-id="k4rXUtAILq4MVXDZxlI?">
          <a href="ad8.html">
            <img class="thumb" src="assets/placeholder.png" alt="広告 8 サムネイル">
            <span class="overlay">AD 8</span>
          </a>
        </figure>
        <!-- AD 12（dailymotion：用视频 ID） -->
        <figure class="grid-item" data-type="dailymotion" data-id="k66pWYAosC3ebRDZPDI?">
          <a href="ad12.html">
            <img class="thumb" src="assets/ad12-thumb.png" alt="広告 12 サムネイル">
            <span class="overlay">AD 12</span>
          </a>
        </figure>
        <!-- AD 13（dailymotion：用视频 ID） -->
        <figure class="grid-item" data-type="dailymotion" data-id="k4rwM6phrB4nSGE2BiE?">
          <a href="ad13.html">
            <img class="thumb" src="assets/ad13-thumb.png" alt="広告 13 サムネイル">
            <span class="overlay">AD 13</span>
          </a>
        </figure>
        <!-- AD 16（dailymotion：用视频 ID） -->
        <figure class="grid-item" data-type="dailymotion" data-id="k4sJNAte5D21OcE2Bf8?">
          <a href="ad16.html">
            <img class="thumb" src="assets/ad16-thumb.png" alt="広告 16 サムネイル">
            <span class="overlay">AD 16</span>
          </a>
        </figure>
        <!-- AD 17（dailymotion：用视频 ID） -->
        <figure class="grid-item" data-type="dailymotion" data-id="k38xoe2DJmOMfoE2SaA?">
          <a href="ad17.html">
            <img class="thumb" src="assets/ad17-thumb.png" alt="広告 17 サムネイル">
            <span class="overlay">AD 17</span>
          </a>
        </figure>
        <!-- AD 18（dailymotion：用视频 ID） -->
        <figure class="grid-item" data-type="dailymotion" data-id="kLio2PfRvAzNO9E2Scu?">
          <a href="ad18.html">
            <img class="thumb" src="assets/ad18-thumb.png" alt="広告 18 サムネイル">
            <span class="overlay">AD 18</span>
          </a>
        </figure>
        <!-- AD 19（dailymotion：用视频 ID） -->
        <figure class="grid-item" data-type="dailymotion" data-id="k57oypHy2ciSl7E2Se6?">
          <a href="ad19.html">
            <img · src="assets/ad19-thumb.png" alt="広告 19 サムネイル">
            <span class="overlay">AD 19</span>  
          </a>
        </figure>
        <!-- AD 20（dailymotion：用视频 ID） -->
        <figure class="grid-item" data-type="dailymotion" data-id="kjDq1AjgJ4mmz9E2SeG?">
          <a href="ad20.html">
            <img src="assets/ad20-thumb.png" alt="広告 20 サムネイル">
            <span class="overlay">AD 20</span>
          </a>
        </figure>
      </div>
    </section>
    <section class="works-section">
      <h2>ドキュメンタリー作品 Documentary Works</h2>
      <div class="grid-docs">
        <figure class="grid-item" data-type="dailymotion" data-id="k10zR8W2w9121oDZxOQ?">
          <a href="doc1.html">
            <img class="thumb" src="assets/placeholder.png" alt="纪录片 1 サムネイル">
            <span class="overlay">DOC 1</span>
          </a>
        </figure>
        <figure class="grid-item" data-type="dailymotion" data-id="k1KTRLXBqoZFK9DZxOa?">
          <a href="doc2.html">
            <img class="thumb" src="assets/doc2-thumb.png" alt="纪录片 2 サムネイル">
            <span class="overlay">DOC 2</span>
          </a>
        </figure>
        <figure class="grid-item" data-type="iqiyi" data-id="itfm26oh48?">
          <a href="doc3.html">
            <img class="thumb" src="assets/doc3-thumb.png" alt="纪录片 3 サムネイル">
            <span class="overlay">六つの団子 / Six Dumplings</span>
          </a>
        </figure>
        <figure class="grid-item" data-type="dailymotion" data-id="k7s4Ws4svgGxPfDZRTI?">
          <a href="doc4.html">
            <img class="thumb" src="assets/doc4-thumb.png" alt="纪录片 4 サムネイル">
            <span class="overlay">DOC 4</span>
          </a>
        </figure>
        <figure class="grid-item" data-type="dailymotion" data-id="k2x4QOAS1ru2XxE0dFA?">
          <a href="doc5.html">
            <img class="thumb" src="assets/doc5-thumb.png" alt="纪录片 5 サムネイル">
            <span class="overlay">DOC 5</span>
          </a>
        </figure>
        <figure class="grid-item" data-type="dailymotion" data-id="k10zR8W2w9121oDZxOQ?">
          <a href="doc6.html">
            <img class="thumb" src="assets/doc6-thumb.png" alt="纪录片 6 サムネイル">
            <span class="overlay">DOC 6</span>
          </a>
        </figure>
        <figure class="grid-item" data-type="dailymotion" data-id="k10zR8W2w9121oDZxOQ?">
          <a href="doc7.html">
            <img class="thumb" src="assets/doc7-thumb.png" alt="纪录片 7 サムネイル">
            <span class="overlay">DOC 7</span>
          </a>
        </figure>
        <figure class="grid-item" data-type="dailymotion" data-id="k10zR8W2w9121oDZxOQ?">
          <a href="doc8.html">
            <img class="thumb" src="assets/doc8-thumb.png" alt="纪录片 8 サムネイル">
            <span class="overlay">DOC 8</span>
          </a>
        </figure>
      </div>
    </section>
  </main>
  <footer>
    <p>© 2025 Jenkin. Based in Tokyo, Japan.</p>
    <p>Get in touch:
      <a href="https://www.instagram.com/jenkin_ctutu/" target="_blank" rel="noopener noreferrer">Instagram</a>
      |
      <a href="https://www.xinpianchang.com/u10175898?channel=copyLink&amp;from=webShare" target="_blank"
        rel="noopener noreferrer">新片場</a>
    </p>
  </footer>
  <script>
    // —— 解析 YouTube 各种链接为 ID（如你用 data-url 时会用到） —— //
    function parseYouTubeId(url) {
      try {
        const u = new URL(url);
        if (u.hostname.includes('youtu.be')) return u.pathname.slice(1);
        if (u.hostname.includes('youtube.com')) {
          const v = u.searchParams.get('v');
          if (v) return v;
          const parts = u.pathname.split('/');
          const idx = parts.indexOf('embed');
          if (idx !== -1 && parts[idx + 1]) return parts[idx + 1];
        }
      } catch (e) {}
      return null;
    }

    // —— YouTube 缩略图地址 —— //
    function ytThumb(id) {
      return {
        max: `https://i.ytimg.com/vi/${id}/maxresdefault.jpg`,
        hq: `https://i.ytimg.com/vi/${id}/hqdefault.jpg`
      };
    }

    function testImage(url) {
      return new Promise(r => {
        const i = new Image();
        i.onload = () => r(true);
        i.onerror = () => r(false);
        i.src = url;
      });
    }

    // —— Vimeo oEmbed 获取缩略图 —— //
    async function fetchVimeoThumb(vimeoUrlOrId) {
      let videoUrl = vimeoUrlOrId;
      if (/^\d+$/.test(vimeoUrlOrId)) videoUrl = `https://vimeo.com/${vimeoUrlOrId}`;
      const api = `https://vimeo.com/api/oembed.json?url=${encodeURIComponent(videoUrl)}`;
      const res = await fetch(api, {
        mode: 'cors'
      });
      if (!res.ok) throw new Error('Vimeo oEmbed failed');
      const data = await res.json();
      return (data.thumbnail_url || '').replace(/\d+x\d+/, '1280'); // 试图拿更大尺寸
    }

    async function hydrateCard(card) {
      const img = card.querySelector('.thumb');
      if (!img || img.dataset.hydrated === '1') return;
      const type = card.dataset.type;
      const id = card.dataset.id;
      const url = card.dataset.url;
      const fallback = 'assets/placeholder.png';

      try {
        if (type === 'youtube') {
          let ytId = id || (url ? parseYouTubeId(url) : null);
          if (!ytId) throw 'no id';
          const set = ytThumb(ytId);
          img.src = (await testImage(set.max)) ? set.max : set.hq;
        } else if (type === 'vimeo') {
          const v = id || url;
          if (!v) throw 'no id';
          img.src = await fetchVimeoThumb(v) || fallback;
        } else if (type === 'dailymotion') {
          const dmId = id || url;
          if (!dmId) throw 'no id';
          // 官方缩略图直链
          img.src = `https://www.dailymotion.com/thumbnail/video/${dmId}`;
        } else {
          // 本地 MP4：保持占位或你已有的 thumb
        }
      } catch (e) {
        img.src = fallback;
      } finally {
        img.dataset.hydrated = '1';
      }
    }

    // —— 懒加载：进入视口再拉取封面 —— //
    (function () {
      const cards = document.querySelectorAll('.grid-item[data-type]');
      const io = new IntersectionObserver((entries) => {
        entries.forEach(en => {
          if (en.isIntersecting) {
            hydrateCard(en.target);
            io.unobserve(en.target);
          }
        });
      }, {
        rootMargin: '200px 0px'
      });
      cards.forEach(c => io.observe(c));
    })();
  </script>

  <script>
    (() => {
      const mount = document.getElementById('tz-right');
      if (!mount) return; // 没有占位则不执行

      // Shadow DOM 隔离样式，不影响你现有CSS
      const host = document.createElement('span');
      mount.appendChild(host);
      const root = host.attachShadow({
        mode: 'open'
      });

      root.innerHTML = `
    <style>
      .wrap{ display:inline-flex; gap:10px; align-items:center; }
      .chip{
        display:inline-flex; gap:6px; align-items:baseline;
        padding:4px 8px; border-radius:999px;
        background: rgba(22,22,26,.75);
        color:#fff;
        border:1px solid rgba(255,255,255,.12);
        line-height:1;
      }
      .label{ opacity:.85; font-weight:600; font-size:12px; }
      .time{ font-variant-numeric: tabular-nums; font-weight:700; font-size:13px; }
      /* 手机端尺寸微调 */
      @media (max-width:560px){ .chip{ padding:4px 8px; } }
    </style>
    <div class="wrap" role="group" aria-label="Timezones">
      <div class="chip" data-zone="Asia/Shanghai">
        <span class="label">Shanghai</span>
        <span class="time">--:--:--</span>
      </div>
      <div class="chip" data-zone="Asia/Tokyo">
        <span class="label">Tokyo</span>
        <span class="time">--:--:--</span>
      </div>
    </div>
  `;

      // 24小时制英文环境；只渲染时间，不渲染日期
      const fmtTime = (d, tz) =>
        new Intl.DateTimeFormat('en-GB', {
          timeZone: tz,
          hour12: false,
          hour: '2-digit',
          minute: '2-digit',
          second: '2-digit'
        }).format(d);

      const chips = root.querySelectorAll('.chip');
      const tick = () => {
        const now = new Date();
        chips.forEach(c => {
          const tz = c.dataset.zone;
          c.querySelector('.time').textContent = fmtTime(now, tz);
        });
      };
      tick();
      setInterval(tick, 1000);
    })();
  </script>
</body>

</html>